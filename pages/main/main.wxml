<wxs module="ProcessStatus">
  var transStatus = function (status) {
    switch (status) {
      case 0:
        return 'open';
      case 1:
        return 'prev';
      case 2:
        return 'close'
      default: return 'open';
    }
  };
  module.exports.status = transStatus;
</wxs>
<view>
  <l-notice-bar  speed="2000"  front-icon-name="notification"  close="true" type="roll" show="{{true}}">{{NewMessage}}</l-notice-bar>
  <view class="topbar">

    <picker class="topbar-select" mode="region" bindchange="bindRegionChange" value="{{Region}}" >
      <view class="picker">
        {{Position}}
        <l-icon class="picker-down" name="down" color="#000" size="25" b/>
      </view>
    </picker>
    <l-icon class="topbar-scan" name="scan" color="#000" size="40" bindtap="onScan"/>
  </view>
  <swiper class="swipper" indicator-dots="true" autoplay="true" interval="3000">
    <block wx:for="{{Banners}}" wx:key="id">
      <navigator url="{{item.url}}">
        <swiper-item>
          <image src="{{item.img}}"></image>
        </swiper-item>
      </navigator>
    </block>
  </swiper>
  
 
  <view class="door">
    <block wx:for="{{Doors}}" wx:key="id">
      <view bindtap="onDoorNav" class="door-box" data-door-id="{{item.id}}" style="background:url('{{item.door_img}}') no-repeat center;">
        <view class="door-status {{ProcessStatus.status(item.status)}}">{{item.status}}</view>
        <view class="door-text">
          <view class="door-name">{{item.door_name}}</view>
          <view class="door-add">{{item.door_address}}</view>
        </view>

      </view>

    </block>
  </view>
</view>