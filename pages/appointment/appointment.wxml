<wxs module="AppointWxs" src="../../WXS/UtilWxs.wxs"/>
<l-tabs bind:linchange="onTabChange" inactive-color="#b3b6bd" active-color="#525562" animated-for-line="true"
      l-header-line-class="tab-header-line">
      <l-tabpanel tab="待完成" key="wait" slot="wait">
        <scroll-view class="wait-content" scroll-y="true">
          <block wx:for="{{wait_classes}}" wx:key="id">
            <view class="wait-class-card">
              <view class="wait-class-card-img">
                <image src="{{item.teacher_img}}"></image>
              </view>
              <view class="wait-class-card-content">
                <view class="wait-class-card-title">
                  <text class="wait-card-title">{{item.title}}</text>
                  <text
                    class="wait-card-title-status {{AppointWxs.GenerateStatus( item.startTime,item.endTime)=='未开始'?'no-start':'' }}">{{AppointWxs.GenerateStatus( item.startTime,item.endTime)}}</text>                 
                </view>
                <view class="wait-class-card-body">
                  <text>人数：{{item.nowNum}}人</text>
                  <!-- <text>时间：{{item.timeStr2}}</text> -->
                  <text>时间：{{AppointWxs.GenerateTime( item.startTime,item.endTime)}}</text>
                  <text>场馆：{{item.Venue}}</text>
                  <text>地址：{{item.address}}</text>
                </view>
                <view class="wait-class-card-foot">
                  <view data-id="{{item.id}}" bindtap="onCancelAppointment">取消预约</view>   
                </view>
              </view>
            </view>
          </block>
        </scroll-view>
        <!-- <view class="wait-content">
     
    </view> -->
      </l-tabpanel>
      <l-tabpanel tab="已完成" key="comp" slot="comp" >
        <l-collapse expand-item-id="{{default_expand}}">
          <block wx:for="{{comp_classes}}" wx:key="index">
            <l-collapse-item customTitle="true" item-id="comp-{{index}}">
              <view slot="title" class="com-coll-title">
                <view class="com-coll-title-left">
                  <text class="coll-title-month">{{item.month}} </text>
                  <text class="coll-title-year">{{item.year}} </text>
                </view>
                <view class="com-coll-title-right">
                  <text>总计{{item.count}}次训练</text>
                  <l-icon name="down" size="16" color="#999" />
                </view>
              </view>
              <scroll-view class="coll-wait-content" scroll-y="true">
                <block wx:for="{{item.lst}}" wx:key="id">
                  <view class="coll-wait-class-card">
                    <view class="coll-wait-class-card-img">
                      <image src="{{item.teacher_img}}"></image>
                    </view>
                    <view class="coll-wait-class-card-content">
                      <view class="coll-wait-class-card-title">
                        <text class="coll-wait-card-title">{{item.title}}</text>
                       <text data-id="{{item.id}}" bindtap="onJudge" class="coll-wait-class-card-judge {{item.judgeStatus?'no-judge':''}}">{{item.judgeStatus?'已评':'评价'}}</text>
                      </view>
                      <view class="coll-wait-class-card-body">
                        <text>{{AppointWxs.GenerateTimeNoYear(item.startTime,item.endTime)}}</text>
                        <text>{{item.Venue}}</text>
                      </view>
                    </view>
                  </view>
                </block>
              </scroll-view>
            </l-collapse-item>
          </block>

        </l-collapse>
      </l-tabpanel>
    </l-tabs>